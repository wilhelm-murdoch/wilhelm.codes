{{ define "main" }}
    <section class="mx-auto max-w-4xl grid grid-cols-2 gap-8 fade-in-animation mb-8 border-b border-b-slate-100 pb-8">
    {{ range (where .Site.RegularPages "Section" "blog" | first 2) }}
      <article class="transition hover:scale-105 hover:ease-in-out hover:duration-300 highlight-{{ .Params.highlight }} card border rounded-2xl shadow-md shadow-slate-100 overflow-hidden">
        <div class="overflow-hidden">
          {{ $title := .LinkTitle }}
          {{ with .Resources.Get "header.jpeg" }}
            <img src="{{ .RelPermalink }}" alt="{{ $title }}" class="aspect-video object-cover lazy" />
          {{ end }}
        </div>
        <div class="p-8 relative h-max">
          <span class="absolute mx-auto -top-4 left-0 right-0 fa-{{ .Params.pack }} fa-{{ .Params.icon }} h-5 w-5 p-2 rounded-full ring-4 ring-white"></span>
          <h4 class="text-center mb-4">
            <span class="rounded-full px-4 py-2 text-sm font-medium">{{ .Params.category }}</span>
          </h4>
          <h3 class="font-normal text-center text-2xl mb-2 text-slate-800">
            <a href="{{ .RelPermalink }}" title="{{ .LinkTitle }}">
              {{ .LinkTitle | safeHTML }}
            </a>
          </h3>
        </div>
      </article>
    {{ end }}
    </section>

    <section class="mx-auto max-w-4xl fade-in-animation">
    {{ range (first 6 (where .Site.RegularPages "Section" "blog" | after 2)) }}
      <article class="highlight-{{ .Params.highlight }} archive transition hover:scale-105 flex border rounded-2xl p-8 mb-8 shadow-md shadow-slate-100">
        <div class="w-16 pt-1 mr-4 lg:inline-block md:inline-block sm:hidden">
          <span class="fa-{{ .Params.pack }} fa-{{ .Params.icon }} h-8 w-8 p-3 rounded-full"></span>
        </div>
        <div>
          <h3 class="font-light text-2xl mb-2 text-slate-800">
            <a href="{{ .RelPermalink }}" title="{{ .LinkTitle }}">
              {{ .LinkTitle | safeHTML }}
            </a>
          </h3>
          <p class="text-slate-300 text-sm">
              <span class="border-b-2 border-b-slate-100 font-medium text-slate-500">{{ .Params.category }}</span>
              {{ with .Params.tags }}
                {{ $count :=  len . }}
                {{ if ne $count 0 }}
                  +
                  {{ range $index, $tag := . }}
                    <span class="border-b-2 border-b-slate-100  text-slate-500">{{ $tag }}</span>
                    {{ if eq $count 2 }}{{ if eq $index 0 }}&nbsp;&amp;&nbsp;{{ end }}
                    {{ else if and (ge $count 2) (eq $index (sub $count 2)) }}&nbsp;&amp;&nbsp;
                    {{ else }}{{ if and (ne $count 1) (ne $index (sub $count 1)) }},{{ end }}{{ end }}
                  {{ end }}
                {{ end }}
              {{ end }}
          </p>
        </div>
      </article>
    {{ end }}
  </section>
{{ end }}
